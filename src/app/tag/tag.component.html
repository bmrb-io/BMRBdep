<label *ngIf="tag.interfaceType == 'country'">
  <select
    [(ngModel)]="tag.value"
    [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true, 'crs-country': true}"
    (change)="validateTag()"
    [title]="tag.validationMessage"
    [attr.data-region-id]="'state'+getRow()"
    data-default-option="Select Country">
  </select>
</label>

<label *ngIf="tag.interfaceType == 'state'">
  <select
    [(ngModel)]="tag.value"
    [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true}"
    (change)="validateTag()"
    [title]="tag.validationMessage"
    [id]="'state'+getRow()"
    data-default-option="Select State or Province"
>
    <option [ngValue]="null">Select State</option>
  </select>
</label>



<label *ngIf="tag.interfaceType == 'standard'">
  <input
    [(ngModel)]="tag.value"
    [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true}"
    [placeholder]="tag.schemaValues['default value']"
    (change)="validateTag()"
    [type]="tag.dataType"
    [attr.step]="tag.schemaValues['BMRB data type'] == 'float' ? 'any' : null"
    [title]="tag.validationMessage"
    [disabled]="tag.disabled">
</label>

<label *ngIf="tag.interfaceType == 'closed_enum'">
  <select [(ngModel)]="tag.value"
          [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true}"
          (change)="validateTag()"
          [title]="tag.validationMessage"
          [disabled]="tag.disabled">
    <option *ngIf="tag.value && !tag.enums.has(tag.value)" disabled [value]="tag.value">{{tag.value}} -
      Error: {{tag.validationMessage}}</option>
    <ng-container *ngFor="let val of tag.enums">
      <option *ngIf="!(!tag.valid && tag.value == val); else invalid_selection" [value]="val"
              [ngClass]="{'type-error': !tag.valid}">{{val}}</option>
      <ng-template #invalid_selection>
        <option disabled [value]="val">{{tag.value}} - Error: {{tag.validationMessage}}</option>
      </ng-template>
    </ng-container>
  </select>
</label>

<label *ngIf="tag.interfaceType == 'sf_pointer'">
  <select [(ngModel)]="tag.value"
          [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true}"
          (ngModelChange)="validateTag()"
          [title]="tag.validationMessage"
          [disabled]="tag.disabled">

    <option *ngFor="let frameLink of tag.frameLink" [value]="frameLink[0]"
            [ngClass]="{'type-error': !tag.valid}">{{frameLink[1]}}</option>
  </select>
</label>

<ng-container *ngIf="tag.interfaceType == 'open_enum'">
  <label>
    <input [attr.list]="tag.fullyQualifiedTagName"
           [(ngModel)]="tag.value"
           [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true}"
           [placeholder]="storedValue"
           (change)="restoreValue()"
           [title]="tag.validationMessage"
           [disabled]="tag.disabled"
           (focus)="storeValue()"
           (blur)="restoreValue()"
           (keydown)="checkDelete($event.key)"/>
  </label>
  <datalist [id]="tag.fullyQualifiedTagName">
    <option *ngFor="let val of tag.enums" [value]="val">
  </datalist>
</ng-container>

<ng-container *ngIf="tag.interfaceType == 'yes_no'">
  <div [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true}"
       (change)="validateTag()"
       [title]="tag.validationMessage">
    <label>Yes
      <input type="radio"
             [attr.name]="tag.fullyQualifiedTagName + unique_identifier"
             [name]="tag.fullyQualifiedTagName + unique_identifier"
             [(ngModel)]="tag.value"
             [id]="tag.fullyQualifiedTagName + unique_identifier"
             [value]="'yes'"
             [disabled]="tag.disabled">
    </label>
    <label>No
      <input type="radio"
             [attr.name]="tag.fullyQualifiedTagName + unique_identifier"
             [name]="tag.fullyQualifiedTagName + unique_identifier"
             [(ngModel)]="tag.value"
             [id]="tag.fullyQualifiedTagName + unique_identifier"
             [value]="'no'"
             [disabled]="tag.disabled">
    </label>
  </div>
</ng-container>

<ng-container *ngIf="tag.interfaceType == 'text'">
  <label>
    <textarea [(ngModel)]="tag.value"
              [ngClass]="{'type-error': !tag.valid, 'saveframe-input': true}"
              [placeholder]="tag.schemaValues['default value']"
              (change)="validateTag()"
              [title]="tag.validationMessage"
              (ngModelChange)="recalculateHeight()"
              [style.height.em]="height"
              [disabled]="tag.disabled"></textarea>
  </label>

</ng-container>

