<div class="main-content">
    <mat-card>
        <mat-card-header>
            <mat-card-title *ngIf="!(entry.valid && entry.emailValidated)">You are viewing all sections of your upload that still need to be
                completed.
            </mat-card-title>
            <mat-card-title *ngIf="entry.valid && entry.emailValidated">Your upload is ready to submit.</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-nav-list>
                <ng-container *ngFor="let superGroupCat of entry.superGroups">
                    <ng-container *ngFor="let category of superGroupCat.children">
                        <p *ngIf="(!category.valid  && category.display != 'H')">
                            <a mat-raised-button [routerLink]="['/entry', 'saveframe', category.category]" color="accent"
                               matTooltip="Jump to this section.">
                                {{entry.schema.saveframeSchema[category.category]['category_group_view_name']}}</a>
                        </p>
                    </ng-container>
                </ng-container>
              <a *ngIf="!entry.emailValidated" mat-raised-button [routerLink]="['/entry', 'pending-verification']" color="accent">
                Verify Email Address</a>
            </mat-nav-list>
          <mat-form-field *ngIf="entry.valid && entry.emailValidated" class="content-box" color="accent">
            <label>
              <input matInput placeholder="Do you have any feedback on the BMRbig system?" [formControl]="messageControl">
            </label>
          </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
            <h4 *ngIf="(entry.valid && entry.emailValidated)">Unless this upload is providing more data for an
            existing BMRB entry, or you specified that this is a private upload, the data will be made public
            immediately.</h4>
            <h5 *ngIf="api.saveInProgress || entry.unsaved">You cannot upload until you have finished uploading the data files / metadata changes. Please wait
            for the BMRbig system to stop displaying a progress bar at the top of the page before continuing.</h5>
            <button mat-raised-button class="saveframe-button" [disabled]="!(entry.valid && entry.emailValidated && !api.saveInProgress && !entry.unsaved)" color="accent"
                    (click)="submitEntry()">Upload to BMRB
            </button>
            <a mat-raised-button (click)="goBack()" color="accent">Return to previous page</a>
        </mat-card-actions>
    </mat-card>
</div>
